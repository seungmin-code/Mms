<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout}">
<head>
  <meta charset="UTF-8">
  <title>공지사항</title>
  <script src="/js/notices/notices_update.js"></script>
  <link rel="stylesheet" href="/css/notices/notices_update.css">
</head>
<body>
<div layout:fragment="content">
  <h2>공지사항</h2>
  <p>공지사항을 수정 할 수 있는 페이지</p>

  <!-- 공지사항 정보 테이블 -->
  <table class="table table-bordered mt-4">
    <colgroup>
      <col style="width: 12.5%;">
      <col style="width: 12.5%;">
      <col style="width: 12.5%;">
      <col style="width: 12.5%;">
      <col style="width: 12.5%;">
      <col style="width: 12.5%;">
    </colgroup>
    <thead>
    <tr class="detail-title">
      <td class="text-center align-middle bg-light">제목</td>
      <th id="titleTh" class='detail-title-text text-center align-middle' colspan="5">
        <input type="text" id="title" class="form-control" />
    </tr>
    </thead>
    <tbody id="tableBody" class="side-border">
    <tr>
      <td class="text-center align-middle bg-light">작성자</td>
      <td id="create_by" class="text-center align-middle"></td>
      <td class="text-center align-middle bg-light">작성일</td>
      <td id="create_at" class="text-center align-middle"></td>
      <td class="text-center align-middle bg-light">수정일</td>
      <td id="update_at" class="text-center align-middle"></td>
    </tr>
    <tr>
      <td class="text-center align-middle bg-light">첨부파일</td>
      <td colspan="5">
        <div id="fileContainer">
          <!-- 기존 파일이 있을 경우 파일명과 삭제 버튼을 보여줌 -->
          <span id="existingFile"></span>
          <button id="deleteFile" class="btn btn-danger ms-2" style="display:none;" onclick="deleteFile()">삭제</button>
        </div>
        <!-- 파일 업로드 필드 -->
        <input type="file" id="fileInput" class="form-control mt-2" />
      </td>
    </tr>
    <tr>
      <td class="text-center align-middle bg-light">내용</td>
      <td class="content-size" colspan="5">
        <textarea id="content" class="form-control" rows="5"></textarea>
      </td>
    </tr>
    </tbody>
  </table>
  <!-- 버튼 그룹, 오른쪽 정렬 -->
  <div class="mt-4 d-flex justify-content-end">
    <button class="btn btn-success me-1" onclick="updateData()">
      <i class="bi bi-save"></i> 저장
    </button>
    <!-- 목록으로 버튼 추가 -->
    <a href="/notices/select" class="btn btn-secondary ms-1">
      <i class="bi bi-list"></i> 목록으로
    </a>
  </div>
  <!-- 공지사항 아이디 -->
  <label for="id">
    <input id="id" th:value="${id}" hidden="hidden" />
  </label>
</div>
</body>
</html>